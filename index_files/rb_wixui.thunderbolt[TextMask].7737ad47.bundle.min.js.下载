!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[TextMask]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[TextMask]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[TextMask]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var a={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return a[e](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{components:function(){return ge}});var e=n(448),t=n.n(e),a=n(5329),r=n.n(a);function o(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=o(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var l=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r},s="HlRz5e",c=n(42662);const{STATIC_MEDIA_URL:d}=c,u=({fittingType:e,src:t,target:a,options:r})=>{const n=c.getPlaceholder(e,t,a,{...r,autoEncode:!0});return n?.uri&&!/^[a-z]+:/.test(n.uri)&&(n.uri=`${d}${n.uri}`),n},m=/^[a-z]+:/;var g=e=>{const{id:t,containerId:r,uri:n,alt:i,name:o="",role:l,width:c,height:g,displayMode:f,devicePixelRatio:p,quality:h,alignType:v,bgEffectName:y="",focalPoint:b,upscaleMethod:E,className:x="",crop:w,imageStyles:I={},targetWidth:S,targetHeight:M,targetScale:k,onLoad:N=(()=>{}),onError:_=(()=>{}),shouldUseLQIP:P,containerWidth:T,containerHeight:O,getPlaceholder:B,isInFirstFold:L,placeholderTransition:C,socialAttrs:z,isSEOBot:R,skipMeasure:A,lazyLoadImgExperimentOpen:j,hasAnimation:W,allowWEBPTransform:q}=e,D=a.useRef(null);let F="";const H="blur"===C,K=a.useRef(null);if(!K.current)if(B||P||L||R){const e={upscaleMethod:E,...h||{},shouldLoadHQImage:L,isSEOBot:R,hasAnimation:W,allowWEBPTransform:q};K.current=(B||u)({fittingType:f,src:{id:n,width:c,height:g,crop:w,name:o,focalPoint:b},target:{width:T,height:O,alignment:v,htmlTag:"img"},options:e}),F=!K.current.transformed||L||R?"":"true"}else K.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const U=!R&&(B||P)&&!L&&K.current.transformed,$=a.useMemo((()=>JSON.stringify({containerId:r,...r&&{containerId:r},...v&&{alignType:v},...A&&{skipMeasure:!0},displayMode:f,...T&&{targetWidth:T},...O&&{targetHeight:O},...S&&{targetWidth:S},...M&&{targetHeight:M},...k&&{targetScale:k},isLQIP:U,isSEOBot:R,lqipTransition:C,imageData:{width:c,height:g,uri:n,name:o,displayMode:f,hasAnimation:W,...h&&{quality:h},...p&&{devicePixelRatio:p},...b&&{focalPoint:b},...w&&{crop:w},...E&&{upscaleMethod:E}}})),[r,v,A,f,O,T,S,M,k,U,R,C,c,g,n,o,h,p,b,w,E,W]),V=K.current,Y=V?.uri,G=V?.srcset,J=V.css?.img,Q=`${s} ${x}`;a.useEffect((()=>{const e=D.current;N&&e?.currentSrc&&e?.complete&&N({target:D.current})}),[]);const Z=V&&!V?.transformed?`max(${c}px, 100%)`:S?`${S}px`:null;return a.createElement("wow-image",{id:t,class:Q,"data-image-info":$,"data-bg-effect-name":y,"data-has-ssr-src":F,"data-animate-blur":!R&&U&&H?"":void 0,style:Z?{"--wix-img-max-width":Z}:{}},a.createElement("img",{src:Y,ref:D,alt:i||"",role:l,style:{...J,...I},onLoad:N,onError:_,...T&&{width:T},...O&&{height:O},...z,...L?{srcSet:G?.dpr?.map((e=>m.test(e)?e:`${d}${e}`)).join(", "),fetchpriority:"high"}:j?{loading:"lazy"}:{}}))};var f=e=>{var t,r,n;const{className:i,customIdPrefix:o,getPlaceholder:l,hasAnimation:s,allowWEBPTransform:c,...d}=e,u=a.useMemo((()=>JSON.stringify({containerId:d.containerId,alignType:d.alignType,fittingType:d.displayMode,hasAnimation:s,imageData:{width:d.width,height:d.height,uri:d.uri,name:d.name,...d.quality&&{quality:d.quality},displayMode:d.displayMode}})),[d,s]),m=a.useRef(null);m.current||(m.current=l?l({fittingType:d.displayMode,src:{id:d.uri,width:d.width,height:d.height,name:d.name},target:{width:d.containerWidth,height:d.containerHeight,alignment:d.alignType,htmlTag:"bg"},options:{hasAnimation:s,allowWEBPTransform:c}}):{uri:void 0,css:{img:{}},attr:{img:{},container:{}}});const g=m.current,f=null!=(t=null==g?void 0:g.uri)?t:"",p=null!=(r=null==(n=g.css)?void 0:n.container)?r:{},h=Object.assign(f?{backgroundImage:"url("+f+")"}:{},p);return a.createElement("wix-bg-image",{id:""+(o||"bgImg_")+d.containerId,class:i,style:h,"data-tiled-image-info":u,"data-has-bg-scroll-effect":d.hasBgScrollEffect||"","data-bg-effect-name":d.bgEffectName||""})};const p=new RegExp("<%= compId %>","g"),h=(e,t)=>e.replace(p,t);var v=e=>null==e?void 0:e.replace(":hover",""),y="bX9O_S",b="Z_wCwr",E="Jxk_UL",x="K8MSra",w="YTb3b4";const I={quality:{unsharpMask:{radius:.33,amount:1,threshold:0}},devicePixelRatio:1};var S=e=>{const{id:r,videoRef:n,videoInfo:i,posterImageInfo:o,muted:s,preload:c,loop:d,alt:u,isVideoEnabled:m,getPlaceholder:f,extraClassName:p=""}=e;i.containerId=v(i.containerId);const S=a.useMemo((()=>JSON.stringify(i)),[i]),M=a.createElement(a.Fragment,null,o.filterEffectSvgString&&a.createElement("svg",{id:"svg_"+i.containerId,className:w},a.createElement("defs",{dangerouslySetInnerHTML:{__html:h(o.filterEffectSvgString,i.containerId)}})),a.createElement(g,t()({key:i.videoId+"_img",id:o.containerId+"_img",className:l(b,E,"bgVideoposter",p),imageStyles:{width:"100%",height:"100%"}},o,I,{getPlaceholder:f})));return m?a.createElement("wix-video",{id:r,"data-video-info":S,class:l(y,"bgVideo",p)},a.createElement("video",{key:i.videoId+"_video",ref:n,id:i.containerId+"_video",className:x,crossOrigin:"anonymous","aria-label":u,playsInline:!0,preload:c,muted:s,loop:d,tabIndex:-1}),M):M},M="SUz0WK";var k=e=>{const{id:t,containerId:r,pageId:n,children:i,bgEffectName:o="",containerSize:l}=e;return a.createElement("wix-bg-media",{id:t,class:M,"data-container-id":r,"data-container-size":((null==l?void 0:l.width)||0)+", "+((null==l?void 0:l.height)||0),"data-page-id":n,"data-bg-effect-name":o,"data-motion-part":"BG_MEDIA"},i)};const N="bgOverlay";var _="m4khSP",P="FNxOn5";var T=e=>{const{imageOverlay:r}=e;return a.createElement("div",{"data-testid":N,className:_},r&&a.createElement(f,t()({customIdPrefix:"bgImgOverlay_",className:P},r)))};const O="bgLayers",B="colorUnderlay",L="mediaPadding",C="canvas";var z="MW5IWV",R="N3eg0s",A="Kv1aVt",j="dLPlxY",W="VgO9Yg",q="LWbAav",D="yK6aSC",F="K_YxMd",H="NGjcJN",K="mNGsUM";const U="bgImage";var $=e=>{const{videoRef:r,canvasRef:n,hasBgFullscreenScrollEffect:i,image:o,backgroundImage:s,backgroundMedia:c,video:d,backgroundOverlay:u,shouldPadMedia:m,extraClass:p="",shouldRenderUnderlay:h=!d,reducedMotion:y=!1,getPlaceholder:b}=e,{onImageLoad:E}=(e=>{let{onReady:t,image:r}=e;return(0,a.useEffect)((()=>{t&&!r&&t()}),[t,r]),{onImageLoad:e=>{null!=r&&r.onLoad&&r.onLoad(e),t&&t()}}})(e),x=v(e.containerId),w="img_"+v(x),I=o&&a.createElement(g,t()({id:w,className:l(A,j,K,U),imageStyles:{width:"100%",height:"100%"},getPlaceholder:b},o,{onLoad:E})),M=s&&a.createElement(f,t()({},s,{containerId:x,className:l(A,j,K,U),getPlaceholder:b})),N=d&&a.createElement(S,t()({id:"videoContainer_"+x},d,{extraClassName:D,reducedMotion:y,videoRef:r,getPlaceholder:b})),_=a.createElement(a.Fragment,null,I,M,N,n&&a.createElement("canvas",{id:x+"webglcanvas",ref:n,className:l(F,"webglcanvas"),"aria-label":(null==d?void 0:d.alt)||"",role:"presentation","data-testid":C})),P=c?a.createElement(k,t()({id:"bgMedia_"+x},c),_):a.createElement("div",{id:"bgMedia_"+x,"data-motion-part":"BG_MEDIA",className:W},_),$=u&&a.createElement(T,u);return a.createElement("div",{id:O+"_"+x,"data-hook":O,"data-motion-part":"BG_LAYER",className:l(z,p,{[R]:i})},h&&a.createElement("div",{"data-testid":B,className:l(q,A)}),m?a.createElement("div",{"data-testid":L,className:H},P,$):a.createElement(a.Fragment,null,P,$))};const V=e=>Object.entries(e).reduce(((e,[t,a])=>(t.includes("data-")&&(e[t]=a),e)),{});const Y=13,G=27;function J(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const Q=J(32),Z=J(Y),X=e=>{Z(e),Q(e)},ee=(J(G),{root:"linkElement"}),te=(e,r)=>{const{href:n,role:i,target:o,rel:l,className:s="",children:c,linkPopupId:d,anchorDataId:u,anchorCompId:m,tabIndex:g,dataTestId:f=ee.root,title:p,onClick:h,onDoubleClick:v,onMouseEnter:y,onMouseLeave:b,onFocusCapture:E,onBlurCapture:x,"aria-live":w,"aria-disabled":I,"aria-label":S,"aria-labelledby":M,"aria-pressed":k,"aria-expanded":N,"aria-describedby":_,"aria-haspopup":P}=e,T=void 0!==e.activateByKey?e.activateByKey:(e=>e?"SpaceOrEnter":"Space")(d);let O;switch(T){case"Enter":O=Z;break;case"Space":O=Q;break;case"SpaceOrEnter":O=X;break;default:O=void 0}return void 0!==n?a.createElement("a",t()({},V(e),{"data-testid":f,"data-popupid":d,"data-anchor":u,"data-anchor-comp-id":m,href:n||void 0,target:o,role:d?"button":i,rel:l,className:s,onKeyDown:O,"aria-live":w,"aria-disabled":I,"aria-label":S,"aria-labelledby":M,"aria-pressed":k,"aria-expanded":N,"aria-haspopup":P,"aria-describedby":_,title:p,onClick:h,onMouseEnter:y,onMouseLeave:b,onDoubleClick:v,onFocusCapture:E,onBlurCapture:x,ref:r,tabIndex:d?0:g}),c):a.createElement("div",t()({},V(e),{"data-testid":f,className:s,tabIndex:g,"aria-label":S,"aria-labelledby":M,"aria-haspopup":P,"aria-disabled":I,"aria-expanded":N,title:p,role:i,onClick:h,onDoubleClick:v,onMouseEnter:y,onMouseLeave:b,ref:r}),c)};var ae=a.forwardRef(te);var re="elEp3H",ne="w681pN",ie="drrrT5",oe="UZDyCY",le="wKTolk",se="YcIVz3";const ce=e=>{const{text:t,extraStyle:a,align:n,direction:i,lineHeight:o,letterSpacing:l,size:s,family:c,weight:d,style:u,decoration:m,transform:g}=e;let f;switch(n){case"start":default:f="rtl"===i?"100%":"0";break;case"middle":f="50%";break;case"end":f="rtl"===i?"0":"100%"}return r().createElement(r().Fragment,null,t.split("\n").map(((e,t)=>r().createElement("text",{key:"text-line-"+t,x:f,y:t*o+"em",style:{letterSpacing:""+(null==l?void 0:l.value)+(null==l?void 0:l.type),direction:i,fill:"#000",fontSize:s+"px",fontFamily:c,fontWeight:d,fontStyle:u,textAnchor:n,textDecoration:m,textTransform:g,...a}},e.trim()))))},de=((e,t=0,{leading:a=!1,trailing:r=!0}={})=>{let n=null;return function(...i){a&&null===n&&e.apply(this,i),n&&clearTimeout(n),n=r&&a&&!n?setTimeout((()=>{n=null}),t):setTimeout((()=>{r&&e.apply(this,i),n=null}),t)}})((e=>{for(const t of e)me(t)}),60,{leading:!0,trailing:!0}),ue="undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>de(e.map((e=>e.target)))));function me(e){var t;const a=e.querySelector(".preview-svg"),r=e.querySelector(".display-svg"),n=r.querySelectorAll("text"),i=parseFloat((null==a?void 0:a.dataset.fontsize)||"0"),{width:o=0,height:l=0}=null!=(t=null==a||null==a.getBBox?void 0:a.getBBox())?t:{};if(!o||!l)return{fontSize:0,viewBox:"0 0 0 0"};const s=e.offsetWidth,c=e.offsetHeight,d=o/l,u=Math.min(s,c*d),m="0 0 "+u+" "+Math.min(s/d,c),g=u/o*i;return r.setAttributeNS(null,"viewBox",m),n.forEach((e=>{e.style.fontSize=g+"px"})),e.dataset.maskState="true",{fontSize:g,viewBox:m}}const ge={TextMask:{component:e=>{const{id:n,fillLayers:i,isDecorative:o,headingLevel:s,size:c,link:d,className:u,viewBox:m,onClick:g,onMouseEnter:f,onMouseLeave:p}=e,h="clip-"+n,v="text-group-"+n,y=r().useRef(null),b=r().useMemo((()=>({"aria-labelledby":o?void 0:v,"aria-hidden":o||void 0})),[o,v]),[E,x]=(0,a.useState)("string"==typeof m?m:"0 0 0 0"),[w,I]=(0,a.useState)({...e});r().useEffect((()=>{const t=y.current;if(t){var a;const r=()=>{const a=me(t);x(a.viewBox),I({...e,size:a.fontSize})};null==(a=document.fonts)||a.addEventListener("loadingdone",r,{once:!0})}}),[e]),r().useEffect((()=>{const e=y.current;return e&&ue&&ue.observe(e),()=>{e&&ue&&ue.unobserve(e)}}),[]),r().useEffect((()=>{const t=null==y?void 0:y.current;if(t){const a=me(t);x(a.viewBox),I({...e,size:a.fontSize})}}),[e]);const S=()=>r().createElement("svg",t()({xmlns:"http://www.w3.org/2000/svg",viewBox:E,className:l("display-svg",ne,ie)},b),r().createElement("defs",null,r().createElement("clipPath",{id:h,"aria-hidden":"true"},r().createElement(ce,w))),r().createElement("g",{className:"text-group",id:v},r().createElement(ce,t()({},w,{extraStyle:{overflow:"visible"}})))),M=()=>r().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:l("preview-svg",ne,oe),"data-fontsize":c,"aria-hidden":"true"},r().createElement(ce,e)),k=s?"h"+s:"p",N=o?S:()=>r().createElement(k,null,r().createElement(S,null));return r().createElement("div",t()({id:n},V(e),((e={})=>{const t=e.tabIndex??e.tabindex??void 0;return void 0!==t?{tabIndex:Number(t)}:{}})(e.a11y),{className:l(se,u),ref:y,onClick:g,onMouseEnter:f,onMouseLeave:p}),r().createElement("div",{className:re},r().createElement(M,null),d&&Object.keys(d).length?r().createElement(ae,d,r().createElement(N,null)):r().createElement(N,null),r().createElement("div",{className:l(le,"fill-layers-wrapper"),style:{clipPath:"url(#"+h+")"}},r().createElement($,i))))}}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[TextMask].7737ad47.bundle.min.js.map